; Copyright 2018 Justin Hu
;
; This file is part of the StackLang standard library.
;
; The StackLang standard library is free software: you can redistribute it
; and/or modify it under the terms of the GNU Lesser General Public License as
; published by the Free Software Foundation, either version 3 of the License,
; or (at your option) any later version. 
;
; The StackLang standard library is distributed in the hope that it will be
; useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser
; General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public License
; along with the StackLang standard library.  If not, see <https://www.gnu.org/licenses/>.

; StackLang extended substack primitives

<< >> ; -> substack
<<
<<>>
>>
`empty
define


<< Any >> ; -> Boolean
<<
duplicate
substack?
`non-empty-other
`non-empty-substack
3, rotate
if
unquote
>>
`non-empty?
define

<< Any >> ; -> Boolean
<<
drop
false
>>
`non-empty?
`non-empty-other
define*

<< Number >> ; -> Boolean
<<
empty?
not
>>
`non-empty?
`non-empty-substack
define*


<< Substack >> ; -> Any
<<
pop
top
>>
`second
define

<< Substack >> ; -> Any
<<
reverse
top
>>
`last
define